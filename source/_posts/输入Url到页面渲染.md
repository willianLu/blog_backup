---
title: 输入Url到页面渲染
date: 2021-03-05 17:00
comments: true
tags: 
    - html
    - js
---

### 前言
> 这是前端老生常谈的问题了，面试的时候出现频率也是蛮高的。一来为了巩固自己的知识点，二来为了锻炼自己的表达写作能力，故而写一篇文章作为记录。限于本人技术水平和组织表达能力，有不足之处，还请留言相告，愿与君共勉。
<!-- more -->

#### 输入url
浏览器会根据输入内容的不同做一下两种操作：
1. 当输入的非url地址，浏览器会使用默认搜索引擎搜索输入内容
2. 输入符合url规则，将对url地址进行整合补充，如http | https协议补充

输入完成后，敲回车进行发送请求，此时页面会是loading状态，等浏览器拿到请求结果才会真正跳转过去，也就是说loading期间会停留在当前页面或者新打开窗口的默认空白页面。

#### 发送请求
发送请求时，会先查询域名缓存，若缓存命中并且有效则直接返回给浏览器，否则进行DNS解析获取域名对应IP和端口。DNS解析也有缓存，命中则直接返回。

#### 建立tcp连接
根据DNS解析出来的IP和端口与服务器建立连接，也就是所谓的三次握手。连接成功则进行请求数据交互，服务器解析请求，返回对应的数据到浏览器。

#### 浏览器解析数据渲染页面
浏览器会根据服务器返回的数据类型（content-type）进行相应的处理。如html页面，也会页面进行解析，资源加载，生成dom树和cssStyle树，合并为渲染树进行渲染，并执行js。

#### 断开连接
浏览器与服务器的相互通信完成后，便会断开连接。（四次挥手）